Task test-specialist to review this code, and write out a list of missing test cases, and code tests that should exist. You should be specific, and be very good. Do Not Hallucinate. Think quietly to yourself, then act - write the issues. The issues will be given to a developer to executed on. Mocking should be used as a last resort.

For each test:
- Create new bead to track it.
- Create prompt for the task, and add it as a comment to the bead.

